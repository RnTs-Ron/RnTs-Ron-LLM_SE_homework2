# 图片水印工具 (WaterMark App)

一个功能强大的桌面图片水印应用程序，基于Java Swing开发，支持文本和图片水印的添加、预览和批量处理。

## 🚀 功能特性

### 📁 文件管理
- **多种导入方式**
  - 拖拽导入：直接将图片文件拖拽到应用窗口。
  - 文件选择器：支持单选或多选图片文件
  - 文件夹导入：批量导入整个文件夹中的图片。
  - 注意，导入后要点击选中图片。一次导入的文件不要太多，否则会导致卡顿。
- **支持格式**
  - 输入：JPEG、PNG、BMP等主流图片格式
  - 输出：JPEG、PNG格式
- **安全导出**
  - 防止覆盖原文件的安全机制
  - 灵活的文件命名规则（保留原名、添加前缀/后缀）

### 🎨 水印功能
- **文本水印**
  - 自定义文本内容
  - 颜色选择
  - 透明度调节（0-100%）
  - 字体大小调整
- **图片水印**
  - 支持PNG透明通道
  - 可调整大小和位置
  - 透明度控制
  - 拖拽调整位置

### 🖼️ 实时预览
- **所见即所得**的水印预览
- 支持在预览区域直接拖拽调整水印位置
- 鼠标交互式调整水印大小
- 实时显示水印效果

### 📋 模板管理
- **保存水印模板**：将当前水印设置保存为模板
- **加载模板**：快速应用已保存的水印配置
- **模板管理**：重命名、删除已保存的模板
- **配置持久化**：自动保存应用设置

## 🏗️ 项目结构

```
src/main/
├── Main.java              # 应用程序入口
├── MainWindow.java        # 主窗口界面和核心逻辑
├── ConfigManager.java     # 配置和模板管理
├── ImageImporter.java     # 图片导入功能
├── ImageExporter.java     # 图片导出功能
└── FolderImporter.java    # 文件夹导入功能
```

## 🛠️ 技术栈

- **语言**：Java 8+
- **GUI框架**：Swing
- **图像处理**：Java AWT/BufferedImage
- **文件操作**：Java NIO
- **配置管理**：Properties文件

## 📦 安装与运行

### 环境要求
- Java 8 或更高版本
- Windows 桌面环境

### 编译运行
```bash
# 编译项目
javac -d out src/main/*.java

# 运行应用
java -cp out main.Main
```

### 使用IDE
1. 导入项目到IntelliJ IDEA或Eclipse
2. 运行`Main.java`文件

## 🎯 使用指南

### 基本操作流程
1. **导入图片**
   - 拖拽图片文件到应用窗口
   - 或使用"导入图片"按钮选择文件
   - 或使用"导入文件夹"批量导入

2. **添加水印**
   - 选择水印类型（文本/图片）
   - 设置水印内容和样式
   - 在预览区域调整位置和大小
   - 调节透明度

3. **预览效果**
   - 在图片列表中切换不同图片
   - 实时查看水印效果
   - 微调水印参数

4. **导出图片**
   - 选择导出目录
   - 设置文件命名规则
   - 选择输出格式
   - 批量导出处理后的图片

### 高级功能
- **模板管理**：保存常用的水印配置为模板，提高工作效率
- **批量处理**：一次性为多张图片添加相同的水印
- **精确定位**：使用鼠标拖拽或数值输入精确控制水印位置

## 📁 数据存储

应用会在项目根目录创建`data`文件夹，用于存储：
- `templates.properties`：水印模板配置
- `app_config.properties`：应用程序配置

## 🔧 配置说明

### 模板配置格式
```properties
template.list=模板1,模板2
template.模板1.text=水印文本
template.模板1.color_r=0
template.模板1.color_g=0
template.模板1.color_b=0
template.模板1.transparency=50
template.模板1.x=100
template.模板1.y=100
```
### 开发环境设置
1. Fork本项目
2. 创建功能分支：`git checkout -b feature/新功能`
3. 提交更改：`git commit -am '添加新功能'`
4. 推送分支：`git push origin feature/新功能`
5. 提交Pull Request

## 📝 更新日志

### v1.0.0
- ✅ 基础的文本和图片水印功能
- ✅ 拖拽导入和文件夹批量导入
- ✅ 实时预览和位置调整
- ✅ 模板保存和管理
- ✅ 批量导出功能
